# Phidget22 JavaScript Library

[![npm](https://img.shields.io/npm/dm/phidget22.svg)](https://www.npmjs.com/package/phidget22)
[![Licence MIT](https://img.shields.io/badge/licence-ISC-blue.svg)](http://opensource.org/licenses/ISC)

Official Phidget22 JavaScript library.

This library includes both Node.js and browser support.

Phidgets are accessed over the network via the [Phidget Network Server](https://www.phidgets.com/docs/Phidget_Network_Server).

Newer Phidgets can also be opened directly over USB, allowing for no-install access within the Browser or Node.js.

A smaller network only library is also available: [phidget22-net](https://www.npmjs.com/package/phidget22-net)

Start by reading the [Phidgets JavaScript Language Page](https://www.phidgets.com/docs/Language_-_JavaScript).

## Resources

* [API Reference](https://www.phidgets.com/?view=api&lang=JavaScript)
* [Node.js Code Samples](https://www.phidgets.com/?view=code_samples&lang=JavaScript&os=Nodejs)
* [Browser Code Samples](https://www.phidgets.com/?view=code_samples&lang=JavaScript&os=Browser)

## Prerequisites

USB Access in Node.js requires installation of the optional [usb](https://www.npmjs.com/package/usb) dependency.

USB Access in the Browser requires a browser that supports [WebUSB](https://caniuse.com/webusb)

## Node.js

```bash
npm install phidget22
```
ES6 module import:
```javascript
import * as phidget22 from 'phidget22';
```
CommonJS import:
```javascript
const phidget22 = require('phidget22');
```

## Browser

Download the latest release [here](https://www.phidgets.com/downloads/phidget22/libraries/any/Phidget22JavaScript.zip).

The release contains full, net, and usb versions of the library, in both UMD and ES module format.

UMD import:
```html
<script src="phidget22.min.js"></script>
```
ES6 module import:
```html	
<script type="module">
	import * as phidget22 from './phidget22.esm.js';
</script>
```

You can also load the library directly from [UNPKG](https://unpkg.com/):

```html
<script src="https://unpkg.com/phidget22@^3.10/browser/phidget22.min.js"></script>
```

App bundlers such as Webpack are supported with browser-specific files in the npm.

## Changelog

### 3.13.4 - February 24 2023
* Fix DAQ1400 FrequencyInput mode

### 3.13.3 - February 23 2023
* Force IPv4 hostname resolution as the network server doesn't support IPv6

### 3.13.2 - January 9 2023
* Support MOT0100_0

### 3.13.1 - January 9 2023
* Support MOT1102_1, TMP1200_1

### 3.12.3 - December 5 2022
* Fixes a bug where a server connection can stop auto re-connecting if interrupted near the start of a connection

### 3.12.2 - December 2 2022
* Fixes a bug where a channel can become stuck while opening over an unstable network connection
* Improved logging in Node
* Error events are rate limited to 1/second

### 3.12.1 - September 12 2022
* Support 1014_3, 1017_2
* Support 1048_1, 1048_2 on USBConnection

### 3.11.1 - August 22 2022
* Support MOT0110_0
* Add option to network connect() to retry on initial failure

### 3.10.5 - July 28 2022
* Fixes a bug where a network connection reconnect can be cancelled immediately and no further attempts are made

### 3.10.4 - June 21 2022
* Fixes a bug in the network connection maintainer to ensure that only one connection request is active at a time

### 3.10.3 - May 5 2022
* Removed some superfluous log messages

### 3.10.2 - May 5 2022
* Node.js USB bugfixes
* Fix issue where a channel could end up with 2 simultaneous open requests internally
* Add client-side keepalives to network connection

### 3.10.1 - April 13 2022
* Initial v3 release